{"version":3,"sources":["/home/havvy/tennu/tennu/src/plugin/startup.sjs"],"names":["module","exports","init","client","nick","config","authPassword","nickserv","autojoinChannels","_socket","on","mode","log","say","Array","isArray","forEach","channel","join","line","info","note","disconnect"],"mappings":"AAAAA,MAAA,CAAOC,OAAP,GAAiB;AAAA,IACbC,IAAA,EAo0CU,UAp0CMC,MAo0CN,EAp0Cc;AAAA,QACpB,MAAMC,IAAA,GAAOD,MAAA,CAAOE,MAAP,CAAc,MAAd,CAAb,CADoB;AAAA,QAEpB,MAAMC,YAAA,GAAeH,MAAA,CAAOE,MAAP,CAAc,eAAd,CAArB,CAFoB;AAAA,QAGpB,MAAME,QAAA,GAAWJ,MAAA,CAAOE,MAAP,CAAc,UAAd,CAAjB,CAHoB;AAAA,QAIpB,MAAMG,gBAAA,GAAmBL,MAAA,CAAOE,MAAP,CAAc,UAAd,CAAzB,CAJoB;AAAA,QAMpBF,MAAA,CAAOM,OAAP,CAAeC,EAAf,CAAkB,OAAlB,EA8zCM,YA9zCiC;AAAA,YAEnC;AAAA,YAAAP,MAAA,CAAOQ,IAAP,CAAYP,IAAZ,EAAkB,GAAlB,EAFmC;AAAA,YAInC,IAAIE,YAAJ,EAAkB;AAAA,gBACdH,MAAA,CAAOS,GAAP,CAAW,QAAX,EAAqB,OAArB,EAA8B,0BAA9B,EADc;AAAA,gBAEdT,MAAA,CAAOU,GAAP,CAAWN,QAAX,EAAqB,cAAcD,YAAnC,EAFc;AAAA,aAJiB;AAAA,YASnC,IAAIQ,KAAA,CAAMC,OAAN,CAAcP,gBAAd,CAAJ,EAAqC;AAAA,gBACjCL,MAAA,CAAOS,GAAP,CAAW,QAAX,EAAqB,OAArB,EAA8B,2BAA9B,EADiC;AAAA,gBAEjCJ,gBAAA,CAAiBQ,OAAjB,CAmzCF,UAnzCqCC,OAmzCrC,EAnzC8C;AAAA,oBACxCd,MAAA,CAAOe,IAAP,CAAYD,OAAZ,EADwC;AAAA,iBAA5C,EAFiC;AAAA,aATF;AAAA,SAAvC,EANoB;AAAA,QAuBpBd,MAAA,CAAOM,OAAP,CAAeC,EAAf,CAAkB,MAAlB,EA6yCM,UA7yC8BS,IA6yC9B,EA7yCoC;AAAA,YACtChB,MAAA,CAAOiB,IAAP,CAAY,IAAZ,EAAkBD,IAAlB,EADsC;AAAA,SAA1C,EAvBoB;AAAA,QA4BpB;AAAA,QAAAhB,MAAA,CAAOO,EAAP,CAAU,OAAV,EAwyCM,YAxyCyB;AAAA,YAC3BP,MAAA,CAAOkB,IAAP,CAAY,OAAZ,EAAqB,yBAArB,EAD2B;AAAA,YAE3BlB,MAAA,CAAOmB,UAAP,GAF2B;AAAA,SAA/B,EA5BoB;AAAA,QAiCpB,OAAO,EAAP,CAjCoB;AAAA,KADX;AAAA,CAAjB","file":"startup.js","sourcesContent":["module.exports = {\n    init: function (client) {\n        const nick = client.config('nick');\n        const authPassword = client.config('auth-password');\n        const nickserv = client.config('nickserv');\n        const autojoinChannels = client.config('channels');\n\n        client._socket.on('ready', function () {\n            // RAWR! I'm a <s>monster</s> Bot!\n            client.mode(nick, 'B');\n\n            if (authPassword) {\n                client.log('notice', 'Tennu', 'Identifying to services.');\n                client.say(nickserv, 'identify ' + authPassword);\n            }\n\n            if (Array.isArray(autojoinChannels)) {\n                client.log('notice', 'Tennu', 'Joining default channels.');\n                autojoinChannels.forEach(function (channel) {\n                    client.join(channel);\n                });\n            }\n        });\n\n        client._socket.on('data', function (line) {\n            client.info('<-', line);\n        });\n\n        // Standard event for IRC quitting.\n        client.on('error', function () {\n            client.note('Tennu', 'Closing IRC Connection.');\n            client.disconnect();\n        });\n\n        return {};\n    }\n}"],"sourceRoot":"/source/"}