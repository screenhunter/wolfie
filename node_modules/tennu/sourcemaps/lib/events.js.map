{"version":3,"sources":["/home/havvy/tennu/tennu/src/lib/events.js"],"names":["events","require","EventEmitter","call","onString","ee","string","listener","split","forEach","event","on","onMap","map","onceString","once","onceMap","prototype","arguments","length","Exception","emit","toEmit","module","exports"],"mappings":"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","file":"events.js","sourcesContent":["/**\n * EventEmitter wrapper which wraps on, once, and emit so that they may\n *  * on/once can take a map of events to listeners.\n *  * listen/emit multiple events by seperating events with a space.\n */\n\nvar events = require('events');\n\nvar EventEmitter = function () {\n    events.EventEmitter.call(this);\n};\n\nvar onString = function (ee, string, listener) {\n    string.split(\" \").forEach(function (event) {\n        events.EventEmitter.on.call(ee, event, listener);\n    });\n};\n\nvar onMap = function (ee, map) {\n    for (var event in map) {\n        onString(ee, event, map[event]);\n    }\n};\n\nvar onceString = function (ee, string, listener) {\n    string.split(\" \").forEach(function (event) {\n        events.EventEmitter.once.call(ee, event, listener);\n    });\n};\n\nvar onceMap = function (ee, map) {\n    for (var event in map) {\n        onceString(ee, event, map[event]);\n    }\n};\n\nEventEmitter.prototype.on = function () {\n    switch (arguments.length) {\n        case 1: onMap(this, arguments[0]); break;\n        case 2: onString(this, arguments[0], arguments[1]); break;\n        default: throw new Exception(\"on takes one or two arguments.\");\n    }\n};\n\nEventEmitter.prototype.once = function () {\n    switch (arguments.length) {\n        case 1: onceMap(this, arguments[0]); break;\n        case 2: onceString(this, arguments[0], arguments[1]); break;\n        default: throw new Exception(\"on takes one or two arguments.\");\n    }\n};\n\nEventEmitter.prototype.emit = function (toEmit) {\n    toEmit.split(\" \").forEach(function (event) {\n        events.EventEmitter.emit.call(this, event);\n    });\n};\n\nmodule.exports = {\n    \"EventEmitter\" : EventEmitter\n};"],"sourceRoot":"/source/"}