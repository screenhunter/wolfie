{"version":3,"sources":["/home/havvy/tennu/tennu/src/lib/irc-map.js"],"names":["lowercase","string","encoding","toLowerCase","replace","Error","IrcMap","IrcMap$2","map","Object","create","methods","impl","get","key","set","value","has","hasOwnProperty","call","keys","values","items","forEach","fn","clear","size","length","toString","module","exports"],"mappings":"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","file":"irc-map.js","sourcesContent":["var lowercase = function (string, encoding) {\n    switch (encoding) {\n        case \"ascii\":\n            return string.toLowerCase();\n        case \"strict-rfc1459\":\n            return string.replace('[', '{').replace(']', '}').replace('\\\\', '|').toLowerCase();\n        case \"rfc1459\":\n            return string.replace('[', '{').replace(']', '}').replace('\\\\', '|').replace('^', '~').toLowerCase();\n        default:\n            throw new Error(\"Unknown encoding for IRC Map.\");\n    }\n};\n\nvar IrcMap = function IrcMap (encoding) {\n    var map = Object.create(IrcMap.methods);\n    map.impl = Object.create(null);\n    map.encoding = encoding;\n    lowercase(\"\", encoding); // Test the encoding is valid.\n    return map;\n};\n\nIrcMap.methods = {\n    get: function (key) {\n        return this.impl[lowercase(key, this.encoding)];\n    },\n\n    set: function (key, value) {\n        this.impl[lowercase(key, this.encoding)] = value;\n    },\n\n    has: function (key) {\n        return Object.hasOwnProperty.call(this.impl, lowercase(key, this.encoding));\n    },\n\n    keys: function () {\n        return Object.keys(this.impl);\n    },\n\n    values: function () {\n        return Object.keys(this.impl).map(function (key) {\n            return this.impl[key];\n        });\n    },\n\n    items: function () {\n        return Object.keys(this.impl).map(function (key) {\n            return [key, this.impl[key]];\n        });\n    },\n\n    forEach: function (fn) {\n        Object.keys(this.impl).forEach(function (key) {\n            fn(key, this.impl[key], this);\n        });\n    },\n\n    \"delete\": function (key) {\n        return delete this.impl[lowercase(key, this.encoding)];\n    },\n\n    clear: function () {\n        this.impl = Object.create(null);\n    },\n\n    get size () {\n        return Object.keys(this.impl).length;\n    },\n\n    toString: function () {\n        return '[Object IrcMap]';\n    }\n};\n\nmodule.exports = IrcMap;"],"sourceRoot":"/source/"}